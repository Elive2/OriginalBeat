!function(e){function n(t){if(o[t])return o[t].exports;var r=o[t]={exports:{},id:t,loaded:!1};return e[t].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var t=window.webpackJsonp;window.webpackJsonp=function(o,a){for(var i,s,l=0,c=[];l<o.length;l++)s=o[l],r[s]&&c.push.apply(c,r[s]),r[s]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);for(t&&t(o,a);c.length;)c.shift().call(null,n)};var o={},r={1:0};return n.e=function(e,t){if(0===r[e])return t.call(null,n);if(void 0!==r[e])r[e].push(t);else{r[e]=[t];var o=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.charset="utf-8",a.async=!0,a.src=n.p+"../../../static/"+e+".js",o.appendChild(a)}},n.m=e,n.c=o,n.p="",n(0)}([function(e,n,t){function o(e){console.log("formating the midi file for pianoroll");for(var n={tempo:64,timeSignature:[4,4]},t=[],o=0;o<e.tracks[0].notes.length;o++)newNote=e.tracks[0].notes[o],newNote.velocity=1,newNote.noteOffVelocity=1,t.push(newNote);var r={header:n,notes:t};return r}var r="http://127.0.0.1:8000/midi/";t.e(0,function(e){var n=[e(61),e(46),e(50),e(40),e(4),e(67),e(54),e(71),e(1),e(41),e(42),e(53)];(function(e,n,t,a,i,s,l,c,p,d,u,f){e(function(){var e=new t,c=new n(document.body),m=new a(document.body);new u(document.body,c,m);f.fromUrl(r).then(function(e){console.log("MIDI NAME"),final_mid=o(e),console.log("FORMATTED MIDI"),console.log(final_mid),c.setScore(final_mid)});console.log(s),m.onInstrument(function(n){e.setInstrument(n)}),m.onPlay(function(n){n?(p.context.resume(),c.start()):(c.stop(),e.releaseAll())}),m.onScore(function(e){c.setScore(e)}),c.onnote=function(n,t,o,r){e.triggerAttackRelease(n,t,o,r)},c.onstop=function(){e.releaseAll()};new d(function(){i.stop(),c.stop(),m.stop()});window.parent.postMessage("loaded","*");var w=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;if(w){var g=document.createElement("div");g.id="iOSTap",document.body.appendChild(g),new l(p.context,g).then(function(){g.remove(),window.parent.postMessage("ready","*")})}else window.parent.postMessage("ready","*")})}).apply(null,n)})}]);